# Telegram Bot для Deadline Task Board

Этот бот предоставляет интерфейс для работы с системой управления задачами и заказами через Telegram.

## Функциональность

### Основные команды
- `/start` - Главное меню
- `/help` - Справка
- `/profile` - Профиль пользователя
- `/tasks` - Мои задачи
- `/orders` - Заказы
- `/chat` - Чаты
- `/message [ID_заказа] [текст]` - Отправить сообщение

### Возможности
- **Задачи**: Просмотр, создание и управление задачами
- **Заказы**: Просмотр своих заказов и доступных заказов
- **Чаты**: Общение с исполнителями/заказчиками
- **Профиль**: Просмотр и редактирование профиля
- **Админ-панель**: Управление системой (для администраторов)

## Установка и запуск

### Локальный запуск
1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Запустите бота:
```bash
python run_bot.py
```

### Запуск через Docker
```bash
docker-compose up bot
```

## Конфигурация

### Переменные окружения
- `BOT_TOKEN` - Токен Telegram бота
- `DATABASE_URL` - URL базы данных
- `SECRET_KEY` - Секретный ключ для JWT

### Токен бота
Текущий токен: `[УДАЛЕН ИЗ БЕЗОПАСНОСТИ]`

## Интеграция с сайтом

Бот работает с той же базой данных, что и веб-приложение. Для полного доступа к функциям необходимо:

1. Зарегистрироваться на сайте
2. Указать свой Telegram ID в настройках профиля
3. Или использовать команду `/link_account` для получения инструкций

## Структура проекта

```
bot/
├── main.py              # Главный файл запуска
├── bot_instance.py      # Экземпляр бота
├── routers/             # Роутеры для обработки команд
│   ├── start_router.py
│   ├── auth_router.py
│   ├── tasks_router.py
│   ├── orders_router.py
│   ├── chat_router.py
│   ├── profile_router.py
│   └── admin_router.py
├── keyboards/           # Клавиатуры
│   ├── main_keyboards.py
│   ├── auth_keyboards.py
│   ├── task_keyboards.py
│   ├── order_keyboards.py
│   ├── chat_keyboards.py
│   ├── profile_keyboards.py
│   └── admin_keyboards.py
├── services/            # Сервисы для работы с данными
│   ├── user_service.py
│   ├── task_service.py
│   ├── order_service.py
│   ├── chat_service.py
│   ├── admin_service.py
│   └── scheduler_service.py
└── middlewares/         # Middleware
    └── auth_middleware.py
```

## Разработка

### Добавление новых команд
1. Создайте новый роутер в папке `routers/`
2. Добавьте роутер в `routers/__init__.py`
3. Создайте необходимые клавиатуры в папке `keyboards/`
4. Добавьте сервисы в папке `services/` при необходимости

### Добавление новых функций
1. Создайте сервис в папке `services/`
2. Добавьте обработчики в соответствующий роутер
3. Создайте клавиатуры для интерфейса
4. Обновите документацию

## Безопасность

- Все команды проверяют авторизацию пользователя
- Административные функции доступны только администраторам
- Все операции с базой данных защищены от SQL-инъекций
- Логирование всех действий для аудита

## Поддержка

При возникновении проблем:
1. Проверьте логи бота
2. Убедитесь, что база данных доступна
3. Проверьте правильность токена бота
4. Обратитесь к администратору системы 